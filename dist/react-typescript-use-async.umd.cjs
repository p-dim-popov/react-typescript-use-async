(function(t,r){typeof exports=="object"&&typeof module<"u"?r(exports,require("react")):typeof define=="function"&&define.amd?define(["exports","react"],r):(t=typeof globalThis<"u"?globalThis:t||self,r(t["react-typescript-use-async"]={},t.react))})(this,function(t,r){"use strict";class c extends Error{constructor(e){super(typeof e=="object"&&e!==null&&"message"in e&&typeof e.message=="string"?e.message:void 0),this.inner=e}}const l=(u,e)=>{const[a,s]=r.useState({isLoading:!0,value:void 0,error:void 0}),o=r.useRef(null),y=r.useCallback(()=>{var i;return(i=o.current)==null?void 0:i.abort()},[]),m=r.useCallback((...i)=>{s(n=>({...n,isLoading:!0,error:void 0}));const d=new AbortController;o.current=d,(async()=>{try{const n=await u(...i)({signal:d.signal});s({isLoading:!1,value:n,error:void 0})}catch(n){s({isLoading:!1,value:void 0,error:new c(n)})}finally{o.current=null}})()},e);return{...a,fire:m,abort:y}},f=(u,e)=>{const a=l(u,e),{fire:s,abort:o}=a;return r.useEffect(()=>(s(),o),[o,s]),a};t.UseAsyncError=c,t.useImmediateAsync=f,t.useParameterizedAsync=l,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})});
